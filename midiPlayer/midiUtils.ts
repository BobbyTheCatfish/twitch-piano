import midi from "@julusian/midi"

// MIDI CONFIGURATION
export const midiOut = new midi.Output();
console.log(midiOut.getPortName(1));
midiOut.openPort(1);

export const midiIn = new midi.Input();
console.log(midiIn.getPortName(0))
midiIn.openPort(0);

export const channels = Array.from({ length: 16 }, (_, i) => i.toString(2).padStart(4, "0"));

midiIn.on("message", (t, m) => {
    console.log(m)
    switch(m[0]!) {
        case 144: return m[2] ? console.log(`NOTE ${m[1]} - V${m[2]}`) : null
        case 192: return console.log(`INST ${m[1]}`)
        case 224: return console.log(`BEND V${m[1]} - A${m[2]}`)
        
        default: break;
    }
});

export const instrumentMap: Record<number, number> = {
    0: 0,
    1: 1,
    2: 4,
    3: 2,
    4: 6,
    5: 5,
    6: 8,
    7: 9,
    8: 97,
    9: 97,
    10: 97,
    11: 97,
    12: 98,
    13: 97,
    14: 87,
    15: 36,
    16: 12,
    17: 11,
    18: 12,
    19: 14,
    20: 16,
    21: 17,
    22: 19,
    23: 17,
    24: 22,
    25: 21,
    26: 23,
    27: 23,
    28: 24,
    29: 25,
    30: 25,
    31: 88,
    32: 26,
    33: 27,
    34: 27,
    35: 27,
    36: 28,
    37: 28,
    38: 69,
    39: 69,
    40: 30,
    41: 30,
    42: 31,
    43: 31,
    44: 33,
    45: 34,
    46: 32,
    47: 98,
    48: 33,
    49: 34,
    50: 36,
    51: 37,
    52: 39,
    53: 39,
    54: 38,
    55: 98,
    56: 40,
    57: 43,
    58: 41,
    59: 40,
    60: 44,
    61: 42,
    62: 47,
    63: 48,
    64: 50,
    65: 51,
    66: 52,
    67: 52,
    68: 53,
    69: 53,
    70: 53,
    71: 54,
    72: 55,
    73: 56,
    74: 57,
    75: 58,
    76: 58,
    77: 57,
    78: 59,
    79: 58,
    80: 60,
    81: 61,
    82: 63,
    83: 65,
    84: 62,
    85: 67,
    86: 72,
    87: 69,
    88: 64,
    89: 66,
    90: 70,
    91: 63,
    92: 71,
    93: 76,
    94: 70,
    95: 71,
    96: 75,
    97: 72,
    98: 70,
    99: 73,
    100: 87,
    101: 79,
    102: 76,
    103: 73,
    104: 0,
    105: 0,
    106: 0,
    107: 0,
    108: 0,
    109: 0,
    110: 0,
    111: 0,
    112: 0,
    113: 0,
    114: 0,
    115: 0,
    116: 0,
    117: 0,
    118: 0,
    119: 0,
    120: 0,
    121: 0,
    122: 0,
    123: 0,
    124: 78,
    125: 0,
    126: 75,
    127: 0,
}

export const ogInstruments = [
    "Piano 1",
    "Piano 2",
    "Honky-Tonk",
    "Studio Piano",
    "Elec Piano 1",
    "Elec Piano 2",
    "Elec Piano 3",
    "Elec Piano 4",
    "Harpichord",
    "Clavelectro",
    "Elec Organ 1",
    "Elec Organ 2",
    "Elec Organ 3",
    "Elec Organ 4",
    "Church Organ",
    "Pipe Organ",
    "Reed Organ",
    "Accordion",
    "Bandoneon",
    "Harmonica",
    "Gut Guitar",
    "Acoustic Guitar",
    "Jazz Guitar",
    "Elec Guitar",
    "Mute Guitar",
    "Dist Guitar",
    "Wood Bass",
    "Elec Bass",
    "Slap Bass",
    "Banjo",
    "Violin",
    "Cello",
    "Harp",
    "Strings 1",
    "Strings 2",
    "Strings 3",
    "Synth-STR 1",
    "Synth-STR 2",
    "Choir",
    "Voice Ooh",
    "Trumpet",
    "Tuba",
    "Brass Ens",
    "French Horn 1",
    "French Horn 2",
    "Brass 1",
    "Brass 2",
    "SYN-Brass 1",
    "SYN-Brass 2",
    "SYN-Brass 3",
    "Soprano Sax",
    "Alto Sax",
    "Tenor Sax",
    "Oboe",
    "Clarinet",
    "Piccolo",
    "Flute",
    "Recorder",
    "Pan Flute",
    "Whistle",
    "SYN-Lead 1",
    "SYN-Lead 2",
    "SYN-Lead 3",
    "SYN-Calliope",
    "SYN-Pad 1",
    "SYN-Pad 2",
    "SYN-Pad 3",
    "Glass Harmonica",
    "Country Farm",
    "SYN-Bass",
    "Pearl Drop",
    "Cosmic Sound",
    "Soundtrack",
    "Space Pad",
    "Voice Bass",
    "Applause",
    "SYNTH-SFX",
    "Vehicle",
    "Phone",
    "Funny",
    "STR Piano",
    "STR E Piano",
    "Choir E P",
    "Choir Organ",
    "STR Guitar",
    "STR Harp",
    "Brass STR",
    "Vib Pad",
    "12 STR Guitar",
    "Choir STR",
    "Bass/Piano",
    "Bass/E Piano",
    "Bass/Vib",
    "Bass/Gut Guitar",
    "V. Bass/Ooh",
    "STR/Piano",
    "STR/Trumpet",
    "Vibraphone",
    "Marimba",
    "Percussion",
]

export const stdInstruments = [
    "0 Acoustic Grand Piano",
    "1 Bright Acoustic Piano",
    "2 Electric Grand Piano",
    "3 Honky-tonk Piano",
    "4 Rhodes Piano",
    "5 Chorused Piano",
    "6 Harpsichord",
    "7 Clavinet",
    "8 Celesta",
    "9 Glockenspiel",
    "10 Music Box",
    "11 Vibraphone",
    "12 Marimba",
    "13 Xylophone",
    "14 Tubular Bells",
    "15 Dulcimer",
    "16 Hammond Organ",
    "17 Percussive Organ",
    "18 Rock Organ",
    "19 Church Organ",
    "20 Reed Organ",
    "21 Accordion",
    "22 Harmonica",
    "23 Tango Accordion",
    "24 Acoustic Nylon Guitar",
    "25 Acoustic Steel Guitar",
    "26 Electric Jazz Guitar",
    "27 Electric Clean Guitar",
    "28 Electric Muted Guitar",
    "29 Overdriven Guitar",
    "30 Distortion Guitar",
    "31 Guitar Harmonics",
    "32 Acoustic Bass",
    "33 Fingered Electric Bass",
    "34 Plucked Electric Bass",
    "35 Fretless Bass",
    "36 Slap Bass 1",
    "37 Slap Bass 2",
    "38 Synth Bass 1",
    "39 Synth Bass 2",
    "40 Violin",
    "41 Viola",
    "42 Cello",
    "43 Contrabass",
    "44 Tremolo Strings",
    "45 Pizzicato Strings",
    "46 Orchestral Harp",
    "47 Timpani",
    "48 String Ensemble 1",
    "49 String Ensemble 2",
    "50 Synth Strings 1",
    "51 Synth Strings 2",
    "52 Choir Aah",
    "53 Choir Ooh",
    "54 Synth Voice",
    "55 Orchestral Hit",
    "56 Trumpet",
    "57 Trombone",
    "58 Tuba",
    "59 Muted Trumpet",
    "60 French Horn",
    "61 Brass Section",
    "62 Synth Brass 1",
    "63 Synth Brass 2",
    "64 Soprano Sax",
    "65 Alto Sax",
    "66 Tenor Sax",
    "67 Baritone Sax",
    "68 Oboe",
    "69 English Horn",
    "70 Bassoon",
    "71 Clarinet",
    "72 Piccolo",
    "73 Flute",
    "74 Recorder",
    "75 Pan Flute",
    "76 Bottle Blow",
    "77 Shakuhachi",
    "78 Whistle",
    "79 Ocarina",
    "80 Square Wave Lead",
    "81 Sawtooth Wave Lead",
    "82 Calliope Lead",
    "83 Chiff Lead",
    "84 Charang Lead",
    "85 Voice Lead",
    "86 Fifths Lead",
    "87 Bass Lead",
    "88 New Age Pad",
    "89 Warm Pad",
    "90 Polysynth Pad",
    "91 Choir Pad",
    "92 Bowed Pad",
    "93 Metallic Pad",
    "94 Halo Pad",
    "95 Sweep Pad",
    "96 Rain Effect",
    "97 Soundtrack Effect",
    "98 Crystal Effect",
    "99 Atmosphere Effect",
    "100 Brightness Effect",
    "101 Goblins Effect",
    "102 Echoes Effect",
    "103 Sci-Fi Effect",
    "104 Sitar",
    "105 Banjo",
    "106 Shamisen",
    "107 Koto",
    "108 Kalimba",
    "109 Bagpipe",
    "110 Fiddle",
    "111 Shanai",
    "112 Tinkle Bell",
    "113 Agogo",
    "114 Steel Drums",
    "115 Woodblock",
    "116 Taiko Drum",
    "117 Melodic Tom",
    "118 Synth Drum",
    "119 Reverse Cymbal",
    "120 Guitar Fret Noise",
    "121 Breath Noise",
    "122 Seashore",
    "123 Bird Tweet",
    "124 Telephone Ring",
    "125 Helicopter",
    "126 Applause",
    "127 Gun Shot",
]